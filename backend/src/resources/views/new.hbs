<div class="container my-4">
  <div class="row g-4">
    {{#each courses}}
      <div class="col-xl-3 col-lg-4 col-md-6">
        <div class="card h-100 shadow-sm border-0 course-card">
          <div class="ratio ratio-16x9 overflow-hidden">
            <img
              src="{{this.img}}"
              loading="lazy"
              class="card-img-top object-fit-cover"
              alt="{{this.name}}"
              onerror="this.src='/images/course-fallback.jpg'"
            />
          </div>

          <div class="card-body d-flex flex-column">
            <div class="mb-2">
              {{#if this.level}}
                <span class="badge bg-secondary me-1">{{this.level}}</span>
              {{/if}}
              {{#if this.isNew}}
                <span class="badge bg-success">Mới</span>
              {{/if}}
            </div>

            <h5 class="card-title text-truncate" title="{{this.name}}">{{this.name}}</h5>

            <p class="card-text text-muted line-clamp-2">
              {{this.title}}
            </p>

            <div class="mt-auto d-flex align-items-center justify-content-between">
              {{#if this.price}}
                <span class="fw-semibold text-primary">{{this.price}}₫</span>
              {{else}}
                <span class="fw-semibold text-success">Miễn phí</span>
              {{/if}}

              {{#if this.rating}}
                <small class="text-warning">★ {{this.rating}}</small>
              {{/if}}
            </div>
          </div>

          <div class="card-footer bg-white border-0 pt-0">
            <a
              href="/courses/{{this.slug}}"
              class="btn btn-outline-primary w-100"
              aria-label="Xem chi tiết khóa học {{this.name}}"
            >
              Xem chi tiết
            </a>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</div>

<style>
  .course-card {
    transition: transform .2s ease, box-shadow .2s ease;
  }
  .course-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 1rem 2rem rgba(0,0,0,.12) !important;
  }
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>